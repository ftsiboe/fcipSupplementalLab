% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/clean_agents_data.R
\name{clean_agents_data}
\alias{clean_agents_data}
\title{Clean agent-level data for a given year}
\usage{
clean_agents_data(
  year,
  cleaned_rma_sobtpu_file_path = "data/cleaned_rma_sobtpu.rds",
  cleaned_rma_sco_and_eco_adm_file_path = "data/cleaned_rma_sco_and_eco_adm.rds",
  output_directory = "data/cleaned_agents_data"
)
}
\arguments{
\item{year}{Integer. Commodity year to process (e.g., 2015).}

\item{cleaned_rma_sobtpu_file_path}{Path to cleaned RMA SOB/TPU RDS file.
Default: \code{"data-raw/data/cleaned_rma_sobtpu.rds"}.}

\item{cleaned_rma_sco_and_eco_adm_file_path}{Path to cleaned RMA SCO & ECO
admin RDS file. Default: \code{"data-raw/data/cleaned_rma_sco_and_eco_adm.rds"}.}

\item{output_directory}{Directory to save output RDS file. Created if missing.
Default: \code{"data/cleaned_agents_data"}.}
}
\value{
Returns the input \code{year} on success, with attributes for \code{save_path}
and number of rows. Returns \code{NULL} on error.
}
\description{
Downloads, merges, and processes agent-level insurance data for the specified
\code{year}. Combines revenue draws, calibrated yields, and RMA reference data,
computes premium/subsidy measures, and saves the cleaned dataset as an RDS
file.
}
\note{
Requires \strong{data.table}, access to GitHub-hosted RDS files, and the
helper function \code{get_compressed_adm()}.
}
