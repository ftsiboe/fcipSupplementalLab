% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/build_supplemental_adoption_dynamics.R
\name{get_supplemental_area}
\alias{get_supplemental_area}
\title{Build Supplemental Eligible Acres and Supplemental Area from RMA SOB-TPU}
\usage{
get_supplemental_area(
  sob,
  supplemental_codes = c(31:33, 87:89, 35:36, 16:17, 67:69, 26:28, 37, 38),
  disaggregates = NULL
)
}
\arguments{
\item{sob}{A \code{data.table} of cleaned SOB-TPU records containing both base and
supplemental policies. Must include \code{insured_acres}, \code{endorsed_acres},
\code{insurance_plan_code}, and the identifier columns referenced in \code{disaggregates}.}

\item{supplemental_codes}{Integer vector of supplemental insurance plan codes to include.
Defaults to a comprehensive set of FCIP supplemental products.}

\item{disaggregates}{Optional character vector defining the primary aggregation grain.
Defaults to \code{c("commodity_year","state_code","county_code","commodity_code")}.}
}
\value{
A \code{data.table} containing the requested identifiers, a
\code{supplemental_plan} label, and the level variables \code{eligible_acres} and
\code{supplemental_area}.
}
\description{
Constructs a stacked, analysis-ready table of \strong{supplemental adoption acres}
(\code{supplemental_area}) and companion \strong{eligible/base insured acres}
(\code{eligible_acres}) for a user-specified set of FCIP supplemental products.

This function is an orchestrator: it calls \code{allocate_supplemental_area()} for each
requested product family (e.g., SCO, ECO, PACE), then row-binds the results into one
long \code{data.table}. It does \strong{not} compute shares; it returns levels that can be
converted to shares downstream if desired.
}
\details{
Output content depends on which plan codes are supplied in \code{supplemental_codes}.
For each included product, \code{allocate_supplemental_area()} aggregates:
\itemize{
\item \code{supplemental_area} from \code{endorsed_acres} for the supplemental codes, and
\item \code{eligible_acres} from \code{insured_acres} for the corresponding base-policy codes,
}
at the requested disaggregation grain. Product labels are stored in
\code{supplemental_plan} (e.g., \code{"sco"}, \code{"eco90"}, \code{"eco95"}).
}
