% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/install_from_private_repo.R
\name{install_from_private_repo}
\alias{install_from_private_repo}
\title{Conditionally Install a Private GitHub Package in CI}
\usage{
install_from_private_repo(user_name, package_name, secret_name)
}
\arguments{
\item{user_name}{Character. The GitHub username or organization that owns the repository.}

\item{package_name}{Character. The name of the package and repository.}

\item{secret_name}{Character. The name of the environment variable holding the GitHub PAT
(excluding the \code{"github_pat_"} prefix).}
}
\value{
NULL. Called for its side effect of installing a package.
}
\description{
This helper function installs a private R package from GitHub using a personal access token (PAT)
during GitHub Actions runs. It checks if the package is installed and, if not, installs it using
\code{devtools::install_github()} with authentication.
}
\details{
This function runs only when the environment variable \code{GITHUB_ACTIONS} is \code{"true"},
which indicates it is running in a GitHub Actions workflow. It assumes that the provided PAT is stored
in an environment variable named \code{secret_name}, and the full token is formed as
\code{paste0("github_pat_", Sys.getenv(secret_name))}.

If \code{devtools} is not available, it will be installed from CRAN first.
If the target package is already loaded, it will be detached before reinstallation.
}
\note{
This function is intended for use in CI environments and should not be called during package loading.
Ensure the secret specified by \code{secret_name} is configured in your GitHub repository settings.
}
